<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-logo.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-logo.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-logo.png">
  <link rel="mask-icon" href="/images/favicon-logo.png" color="#222">
  <meta name="google-site-verification" content="4ub2lNf2WEkusifo-b7xbJIm2G5xxYUczDoWOFGp-NM">
  <meta name="msvalidate.01" content="C2030D8E2452D4B39AED09488E55F2DF">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"wqdy.top","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.10.0","exturl":true,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":true}}</script><script src="/js/config.js"></script>

  <meta name="description" content="分享各类资源、经验与技巧">
<meta property="og:type" content="website">
<meta property="og:title" content="我全都要">
<meta property="og:url" content="https://wqdy.top/page/7/index.html">
<meta property="og:site_name" content="我全都要">
<meta property="og:description" content="分享各类资源、经验与技巧">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="c">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://wqdy.top/page/7/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/7/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>我全都要</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-112496567-1"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-112496567-1","only_pageview":false}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>

  <script src="/js/third-party/analytics/baidu-analytics.js"></script>
  <script async src="https://hm.baidu.com/hm.js?0a902dd83e2d4f1aebaeaa0bafe307a0"></script>





<!-- google 分析 -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9068539038073295"
     crossorigin="anonymous"></script>


  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">我全都要</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">搞快点</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-前端"><a href="/c/frontend/" rel="section"><i class="fab fa-html5 fa-fw"></i>前端</a></li>
        <li class="menu-item menu-item-软件"><a href="/c/software/" rel="section"><i class="fas fa-th-large fa-fw"></i>软件</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fas fa-archive fa-fw"></i>归档</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="c"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">c</p>
  <div class="site-description" itemprop="description">分享各类资源、经验与技巧</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">160</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">分类</span>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">82</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3dxZHlna2Q=" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;wqdygkd"><i class="fab fa-github fa-fw"></i>GitHub</span>
      </span>
  </div>



        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://wqdy.top/1802.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="c">
      <meta itemprop="description" content="分享各类资源、经验与技巧">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我全都要">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/1802.html" class="post-title-link" itemprop="url">全网视频万能解析工具、视频下载工具 -- youtube-dl，CR TubeGet，Allavsoft</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <date title="创建时间：2020-06-26" itemprop="dateCreated datePublished" datetime="2020-06-26T00:01:44+00:00">2020-06-26</date>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/c/software/" itemprop="url" rel="index"><span itemprop="name">软件</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="youtube-dl-–-一款犀利的全网视频下载利器"><a href="#youtube-dl-–-一款犀利的全网视频下载利器" class="headerlink" title="youtube-dl – 一款犀利的全网视频下载利器"></a>youtube-dl – 一款犀利的全网视频下载利器</h3><p>github：<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3l0ZGwtb3JnL3lvdXR1YmUtZGw=">https://github.com/ytdl-org/youtube-dl</span></p>
<p>下载：<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3l0ZGwtb3JnL3lvdXR1YmUtZGwvcmVsZWFzZXM=">https://github.com/ytdl-org/youtube-dl/releases</span></p>
<h3 id="CR-TubeGet-基于-youtube-dl-封装并做功能扩展的一款视频下载软件"><a href="#CR-TubeGet-基于-youtube-dl-封装并做功能扩展的一款视频下载软件" class="headerlink" title="CR TubeGet 基于 youtube-dl 封装并做功能扩展的一款视频下载软件"></a>CR TubeGet 基于 youtube-dl 封装并做功能扩展的一款视频下载软件</h3><p>CR TubeGet 功能：<br>1、支持 2000+站点视频下载，支持 YouTube、BiliBili 等主流视频站点<br>2、支持下载脚本扩展，加入 youtube-dl 不支持的站点下载<br>3、支持 200+播放列表，甚至搜索引擎(google、bing、baidu、yahoo、yandex、ask)之视频搜索列表，支持自定义视频列表<br>4、支持 YouTube 8k 分辨率，支持 Mp3 等音频下载，支持批量下载<br>5、支持视频 URL、文本文件拖放下载，支持剪切板视频 URL 监测功能<br>7、内置视频页面支持快捷下载<br>8、支持 aria2 下载器加速下载，支持 annie、you-get 下载组件<br>9、支持视频格式无损转换、字幕烧录</p>
<p>下载地址</p>
<p>v0.9.2.4 版起，未注册版本只能下载 99 个视频<br>如果希望继续使用免费版本，请下载 v0.9.2.3 版，该没有任何功能上的限制，有着视频下载的基本功能，若您下载油管及 B 站，相信其功能可以满</p>
<p>软件发布官网：<span class="exturl" data-url="aHR0cDovL3d3dy5jci1zb2Z0Lm5ldC8=">http://www.cr-soft.net/</span></p>
<p>百度云：<span class="exturl" data-url="aHR0cHM6Ly9wYW4uYmFpZHUuY29tL3MvMUVfZkdESGhHS243c1dDRXQ3Zk10R1E=">https://pan.baidu.com/s/1E_fGDHhGKn7sWCEt7fMtGQ</span> 提取码：m3fk</p>
<h3 id="Allavsoft"><a href="#Allavsoft" class="headerlink" title="Allavsoft"></a>Allavsoft</h3><p>Allavsoft 视频下载器，是一个流行的快速在线视频下载和转换器，可将下载的视频转换为几乎所有流行的视频和音频格式。作为一款国外的软件，支持非常多的国内视频网站下载，包括但不限于优酷、土豆、爱奇艺等，更多支持网站请点击 <span class="exturl" data-url="aHR0cHM6Ly93d3cuYWxsYXZzb2Z0LmNvbS9ob3ctdG8vaW5kZXguaHRtbA==">这里</span> 进行查看。</p>
<p>破解教程 <span class="exturl" data-url="aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL2F2ODU2MzE2MTEv">https://www.bilibili.com/video/av85631611/</span></p>
<p>下载地址</p>
<p>百度云：<span class="exturl" data-url="aHR0cHM6Ly9wYW4uYmFpZHUuY29tL3MvMVZ3R0Njc3N4T3ZuLVU0R1dGZWM5S1E=">https://pan.baidu.com/s/1VwGCcssxOvn-U4GWFec9KQ</span> 提取码：5r2x</p>
<h3 id="硕鼠下载"><a href="#硕鼠下载" class="headerlink" title="硕鼠下载"></a>硕鼠下载</h3><p><span class="exturl" data-url="aHR0cDovL3d3dy5mbHZjZC5jb20v">http://www.flvcd.com/</span></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://wqdy.top/1782.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="c">
      <meta itemprop="description" content="分享各类资源、经验与技巧">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我全都要">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/1782.html" class="post-title-link" itemprop="url">nuxt.js 学习笔记</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <date title="创建时间：2020-06-21" itemprop="dateCreated datePublished" datetime="2020-06-21T00:00:26+00:00">2020-06-21</date>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/c/frontend/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="nuxt"><a href="#nuxt" class="headerlink" title="nuxt"></a>nuxt</h2><p>Nuxt.js 是一个基于 Vue.js 的通用应用框架。</p>
<p>官网：<span class="exturl" data-url="aHR0cHM6Ly9udXh0anMub3JnLw==">https://nuxtjs.org/</span><br>中文：<span class="exturl" data-url="aHR0cHM6Ly96aC5udXh0anMub3JnLw==">https://zh.nuxtjs.org/</span> <span class="exturl" data-url="aHR0cHM6Ly93d3cubnV4dGpzLmNuLw==">https://www.nuxtjs.cn/</span></p>
<h2 id="nuxt-渲染流程"><a href="#nuxt-渲染流程" class="headerlink" title="nuxt 渲染流程"></a>nuxt 渲染流程</h2><p>在任何 Vue 组件的生命周期内， 只有 beforeCreate 和 created 这两个方法会在 客户端和服务端被调用。其他生命周期函数仅在客户端被调用。<br><img data-src="https://cdn.jsdelivr.net/gh/cuilongjin/static@img/img/20210102205617.png"></p>
<h3 id="asyncData-方法"><a href="#asyncData-方法" class="headerlink" title="asyncData 方法"></a>asyncData 方法</h3><p><span class="exturl" data-url="aHR0cHM6Ly96aC5udXh0anMub3JnL2FwaS8=">https://zh.nuxtjs.org/api/</span></p>
<p>用于在渲染组件之前异步获取数据，在服务端或路由更新之前被调用。在这个方法被调用的时候，第一个参数被设定为当前页面的上下文对象，你可以利用 asyncData 方法来获取数据并返回给当前组件。</p>
<p>注意：由于 asyncData 方法是在组件 初始化 前被调用的，所以在方法内是没有办法通过 this 来引用组件的实例对象。<br>asyncData 只在首屏被执行，其它时候相当于 created 或 mounted 在客户端渲染页面。</p>
<h3 id="fetch-方法"><a href="#fetch-方法" class="headerlink" title="fetch 方法"></a>fetch 方法</h3><p>在 2.12 版本之前：</p>
<p>fetch 方法用于在渲染页面前填充应用的状态树（store）数据， 与 asyncData 方法类似，不同的是它不会设置组件的数据。<br>警告: 您无法在内部使用 this 获取组件实例，fetch 是在组件初始化之前被调用</p>
<p>在 2.12 版本中，fetch 有大更新，fetch(context)已被弃用，可以在 fetch() 中直接使用 this，参考：<span class="exturl" data-url="aHR0cHM6Ly9udXh0anMub3JnL2FwaS9wYWdlcy1mZXRjaA==">https://nuxtjs.org/api/pages-fetch</span></p>
<p>参考 2：<span class="exturl" data-url="aHR0cHM6Ly9qdWVqaW4uaW0vcG9zdC81ZWNiODEzNzUxODgyNTQzMTg0NTk4ZmU=">https://juejin.im/post/5ecb813751882543184598fe</span><br><span class="exturl" data-url="aHR0cHM6Ly96aC5udXh0anMub3JnL2Jsb2cvdW5kZXJzdGFuZGluZy1ob3ctZmV0Y2gtd29ya3MtaW4tbnV4dC0yLTEyLw==">https://zh.nuxtjs.org/blog/understanding-how-fetch-works-in-nuxt-2-12/</span></p>
<h2 id="context"><a href="#context" class="headerlink" title="context"></a>context</h2><p><span class="exturl" data-url="aHR0cHM6Ly96aC5udXh0anMub3JnL2FwaS9jb250ZXh0">https://zh.nuxtjs.org/api/context</span></p>
<p>服务端上下文对象，可以在 <code>asyncData</code> <code>fetch</code> <code>plugins</code> <code>middlewares</code> <code>modules</code> <code>store/nuxtServerInit</code> 等特殊的 Nuxt 生命周期区域中使用</p>
<h2 id="nuxt-配置"><a href="#nuxt-配置" class="headerlink" title="nuxt 配置"></a>nuxt 配置</h2><h3 id="配置启动端口"><a href="#配置启动端口" class="headerlink" title="配置启动端口"></a>配置启动端口</h3><p>以下两者都可以配置启动端口</p>
<p>第一种</p>
<p>nuxt.config.js :</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">server</span>: &#123;</span><br><span class="line">    <span class="attr">port</span>: <span class="number">8000</span>,</span><br><span class="line">    <span class="attr">host</span>: <span class="string">&#x27;127.0.0.1&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>第二种</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">package.json <span class="punctuation">:</span></span><br><span class="line"><span class="attr">&quot;config&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;nuxt&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;port&quot;</span><span class="punctuation">:</span> <span class="string">&quot;8000&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;host&quot;</span><span class="punctuation">:</span> <span class="string">&quot;127.0.0.1&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>

<h3 id="引入-element-ui"><a href="#引入-element-ui" class="headerlink" title="引入 element-ui"></a>引入 element-ui</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm i element-ui</span><br></pre></td></tr></table></figure>

<p>修改 <code>nuxt.config.js</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">plugins</span>: [<span class="string">&#x27;@/plugins/element-ui&#x27;</span>],</span><br><span class="line">  <span class="attr">transpile</span>: [<span class="regexp">/^element-ui/</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>创建 <code>plugins/element-ui.js</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Element</span> <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Element</span>)</span><br></pre></td></tr></table></figure>

<h3 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h3><p><span class="exturl" data-url="aHR0cHM6Ly96aC5udXh0anMub3JnL2FwaS9jb25maWd1cmF0aW9uLWVudg==">https://zh.nuxtjs.org/api/configuration-env</span></p>
<p>package.json</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;nuxt&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;build:test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cross-env BASE_URL=testxxx nuxt build&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;build:production&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cross-env BASE_URL=productionxxx nuxt build&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>nuxt.config.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">env</span>: &#123;</span><br><span class="line">    <span class="attr">baseUrl</span>: process.<span class="property">env</span>.<span class="property">BASE_URL</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们可以通过以下两种方式来使用 baseUrl 变量：</p>
<p>通过 <code>process.env.baseUrl</code><br>通过 <code>context.env.baseUrl</code></p>
<h3 id="自定义路由配置"><a href="#自定义路由配置" class="headerlink" title="自定义路由配置"></a>自定义路由配置</h3><p>在 Nuxt.js 中，路由是基于文件结构自动生成，无需配置。自动生成的路由配置可在 .nuxt&#x2F;router.js 中查看。</p>
<p>配置路由以 <code>.html</code> 结尾</p>
<p>nuxt.config.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">router</span>: &#123;</span><br><span class="line">    <span class="attr">middleware</span>: <span class="string">&#x27;router&#x27;</span>,</span><br><span class="line">    <span class="title function_">extendRoutes</span>(<span class="params">routes, resolve</span>) &#123;</span><br><span class="line">      routes.<span class="title function_">push</span>(&#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;case&#x27;</span>,</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/case.html&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;pages/case/_id.vue&#x27;</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">      routes.<span class="title function_">forEach</span>(<span class="function">(<span class="params">element</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> path = element.<span class="property">path</span></span><br><span class="line">        <span class="keyword">if</span> (path !== <span class="string">&#x27;/&#x27;</span> &amp;&amp; !path.<span class="title function_">includes</span>(<span class="string">&#x27;.html&#x27;</span>)) &#123;</span><br><span class="line">          path = path + <span class="string">&#x27;.html&#x27;</span></span><br><span class="line">          element.<span class="property">path</span> = path</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="axios-配置"><a href="#axios-配置" class="headerlink" title="axios 配置"></a>axios 配置</h3><p>使用 Axios，并配置全局拦截器，处理跨域</p>
<p>安装依赖</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install @nuxtjs/axios @nuxtjs/proxy --save</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// nuxt.config.js</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">modules</span>: [<span class="string">&#x27;@nuxtjs/axios&#x27;</span>], <span class="comment">// 不需要加入@nuxtjs/proxy</span></span><br><span class="line">  <span class="attr">axios</span>: &#123;</span><br><span class="line">    <span class="attr">proxy</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">prefix</span>: <span class="string">&#x27;/api&#x27;</span>, <span class="comment">// baseURL</span></span><br><span class="line">    <span class="attr">credentials</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">proxy</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;/api/&#x27;</span>: &#123;</span><br><span class="line">      <span class="attr">target</span>: <span class="string">&#x27;http://127.0.0.1:8080&#x27;</span>, <span class="comment">// 代理地址</span></span><br><span class="line">      <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">pathRewrite</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;^/api&#x27;</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>组件中使用</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  asyncData (&#123; app, $axios &#125;) &#123;</span><br><span class="line">    <span class="comment">// app.$axios == $axios</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(app.<span class="property">$axios</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$axios</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>设置全局拦截器：新建一个&#x2F;plugins&#x2F;axios.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> (<span class="params">&#123; $axios &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> axios = $axios</span><br><span class="line">  <span class="comment">// 基本配置</span></span><br><span class="line">  axios.<span class="property">defaults</span>.<span class="property">timeout</span> = <span class="number">10000</span></span><br><span class="line">  axios.<span class="property">defaults</span>.<span class="property">headers</span>.<span class="property">post</span>[<span class="string">&#x27;Content-Type&#x27;</span>] = <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 请求回调</span></span><br><span class="line">  axios.<span class="title function_">onRequest</span>(<span class="function">(<span class="params">config</span>) =&gt;</span> &#123;&#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 返回回调</span></span><br><span class="line">  axios.<span class="title function_">onResponse</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;&#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 错误回调</span></span><br><span class="line">  axios.<span class="title function_">onError</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后在 plugins 配置它</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">plugins</span>: [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">src</span>: <span class="string">&#x27;@/plugins/axios&#x27;</span>,</span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&#x27;client&#x27;</span>,</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h3 id="配置-css-预处理器"><a href="#配置-css-预处理器" class="headerlink" title="配置 css 预处理器"></a>配置 css 预处理器</h3><p>安装依赖</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm i -D less less-loader</span><br></pre></td></tr></table></figure>

<p>无需配置，模板内直接使用</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="token-的设置与存储"><a href="#token-的设置与存储" class="headerlink" title="token 的设置与存储"></a>token 的设置与存储</h3><p>在前后端分离的项目中，一般都会存放到本地存储中。但 Nuxt.js 不同，由于服务端渲染的特点，部分请求在服务端发起，我们无法获取 localStorage 或 sessionStorage。</p>
<p>可以使用 cookie，并借助 cookie-universal-nuxt 模块（该模块只是帮助我们注入，主要实现依赖 cookie-universal），不管在服务端还是客户端，cookie-universal-nuxt 都为我们提供一致的 api，它内部会帮我们去适配对应的方法。</p>
<p>安装 cookie-universal-nuxt</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm run cookie-universal-nuxt --save</span><br></pre></td></tr></table></figure>

<p>nuxt.config.js :</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">modules</span>: [<span class="string">&#x27;cookie-universal-nuxt&#x27;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>访问 $cookies 进行使用：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 服务端：</span></span><br><span class="line"><span class="comment">// 获取</span></span><br><span class="line">app.<span class="property">$cookies</span>.<span class="title function_">get</span>(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line"><span class="comment">// 设置</span></span><br><span class="line">app.<span class="property">$cookies</span>.<span class="title function_">set</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;value&#x27;</span>)</span><br><span class="line"><span class="comment">// 删除</span></span><br><span class="line">app.<span class="property">$cookies</span>.<span class="title function_">remove</span>(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 客户端：</span></span><br><span class="line"><span class="comment">// 获取</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$cookies</span>.<span class="title function_">get</span>(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line"><span class="comment">// 设置</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$cookies</span>.<span class="title function_">set</span>(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;value&#x27;</span>)</span><br><span class="line"><span class="comment">// 删除</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$cookies</span>.<span class="title function_">remove</span>(<span class="string">&#x27;name&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>之后需要改造下 axios，让它在请求时带上验证信息：</p>
<p>&#x2F;plugins&#x2F;axios.js :</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> (<span class="params">&#123; app: &#123; $axios, $cookies &#125; &#125;</span>) &#123;</span><br><span class="line">  $axios.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 头部带上验证信息</span></span><br><span class="line">    config.<span class="property">headers</span>[<span class="string">&#x27;X-Token&#x27;</span>] = $cookies.<span class="title function_">get</span>(<span class="string">&#x27;token&#x27;</span>) || <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">  &#125;)</span><br><span class="line">  $axios.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="regexp">/^[4|5]/</span>.<span class="title function_">test</span>(response.<span class="property">status</span>)) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(response.<span class="property">statusText</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> response.<span class="property">data</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="middleware-中间件使用"><a href="#middleware-中间件使用" class="headerlink" title="middleware 中间件使用"></a>middleware 中间件使用</h3><p><span class="exturl" data-url="aHR0cHM6Ly96aC5udXh0anMub3JnL2FwaS9wYWdlcy1taWRkbGV3YXJl">https://zh.nuxtjs.org/api/pages-middleware</span></p>
<p>全局配置: 这种中间件使用是注入到全局的每个页面中</p>
<p>nuxt.config.js :</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">router</span>: &#123;</span><br><span class="line">    <span class="attr">middleware</span>: [<span class="string">&#x27;auth&#x27;</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果你希望中间件只运行于某个页面，可以配置页面的 middleware 选项：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">middleware</span>: <span class="string">&#x27;auth&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="使用-keep-alive"><a href="#使用-keep-alive" class="headerlink" title="使用 keep-alive"></a>使用 keep-alive</h3><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL251eHQvbnV4dC5qcy90cmVlL2Rldi9leGFtcGxlcy93aXRoLWtlZXAtYWxpdmU=">https://github.com/nuxt/nuxt.js/tree/dev/examples/with-keep-alive</span></p>
<p>layouts&#x2F;default.vue:</p>
<template>
  <Nuxt keep-alive/>
</template>

<p>直接给 Nuxt 添加 keep-alive 虽然可以实现页面缓存，但是每次页面切换时都会去请求接口</p>
<p><span class="exturl" data-url="aHR0cHM6Ly9qdWVqaW4uaW0vcG9zdC81Y2ZmNWYwMmU1MWQ0NTEwNjI0Zjk3YWI=">https://juejin.im/post/5cff5f02e51d4510624f97ab</span></p>
<h3 id="分离-css"><a href="#分离-css" class="headerlink" title="分离 css"></a>分离 css</h3><p>nuxt.config.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">build</span>: &#123;</span><br><span class="line"><span class="attr">extractCSS</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">optimization</span>: &#123;</span><br><span class="line">    <span class="attr">splitChunks</span>: &#123;</span><br><span class="line">      <span class="attr">chunks</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="head-配置"><a href="#head-配置" class="headerlink" title="head 配置"></a>head 配置</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">meta</span>: [</span><br><span class="line">  &#123; <span class="attr">charset</span>: <span class="string">&#x27;utf-8&#x27;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">&#x27;viewport&#x27;</span>, <span class="attr">content</span>: <span class="string">&#x27;width=device-width, initial-scale=1&#x27;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">&#x27;author&#x27;</span>, <span class="attr">content</span>: <span class="string">&#x27;cuilongjin&#x27;</span> &#125;,</span><br><span class="line">  &#123; <span class="string">&#x27;http-equiv&#x27;</span>: <span class="string">&#x27;X-UA-Compatible&#x27;</span>, <span class="attr">content</span>: <span class="string">&#x27;IE=edge&#x27;</span> &#125;,</span><br><span class="line">],</span><br><span class="line"><span class="attr">link</span>: [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">rel</span>: <span class="string">&#x27;icon&#x27;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;image/x-icon&#x27;</span>,</span><br><span class="line">    <span class="attr">href</span>: <span class="string">&#x27;/logo.png&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">],</span><br><span class="line"><span class="attr">script</span>: [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">src</span>: <span class="string">&#x27;/moveheader.js&#x27;</span>, <span class="comment">// 引入 js 路径</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">innerHTML</span>: <span class="string">&#x27;console.log(&#x27;</span><span class="number">1</span><span class="string">&#x27;)&#x27;</span> <span class="comment">// 直接引入 js 代码</span></span><br><span class="line">  &#125;,</span><br><span class="line">],</span><br><span class="line"><span class="comment">// 如果使用innerHTML直接引入 js 代码，代码中的引号会被转换为实体字符，导致代码不能正常执行，所以需要配置此项</span></span><br><span class="line"><span class="attr">__dangerouslyDisableSanitizers</span>: [<span class="string">&#x27;script&#x27;</span>],</span><br></pre></td></tr></table></figure>

<h3 id="添加百度统计代码"><a href="#添加百度统计代码" class="headerlink" title="添加百度统计代码"></a>添加百度统计代码</h3><p>在 plugins 目录下新建 <code>baidu.js</code> 文件，内容如下：<br>注意修改xxxxxxxxxxx编号</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> ** 只在生产模式的客户端中使用</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">if</span> (process.<span class="property">client</span> &amp;&amp; process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&#x27;production&#x27;</span>) &#123;</span><br><span class="line">  <span class="comment">// 百度统计脚本</span></span><br><span class="line">  <span class="keyword">var</span> _hmt = _hmt || []</span><br><span class="line">  ;(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> hm = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;script&#x27;</span>)</span><br><span class="line">    hm.<span class="property">src</span> = <span class="string">&#x27;https://hm.baidu.com/hm.js?xxxxxxxxxxx&#x27;</span></span><br><span class="line">    <span class="keyword">const</span> s = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;script&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">    s.<span class="property">parentNode</span>.<span class="title function_">insertBefore</span>(hm, s)</span><br><span class="line">  &#125;)()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (&#123; <span class="attr">app</span>: &#123; router &#125;, store &#125;) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 每次路由变更时进行pv统计</span></span><br><span class="line">  <span class="keyword">if</span> (process.<span class="property">client</span> &amp;&amp; process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&#x27;production&#x27;</span>) &#123;</span><br><span class="line">    router.<span class="title function_">afterEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span></span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">var</span> _hmt = _hmt || []</span><br><span class="line">      ;(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> hm = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;script&#x27;</span>)</span><br><span class="line">        hm.<span class="property">src</span> = <span class="string">&#x27;https://hm.baidu.com/hm.js?xxxxxxxxxxx&#x27;</span></span><br><span class="line">        <span class="keyword">const</span> s = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;script&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">        s.<span class="property">parentNode</span>.<span class="title function_">insertBefore</span>(hm, s)</span><br><span class="line">      &#125;)()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在 <code>nuxt-config.js</code> 中添加</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">plugins</span>: [</span><br><span class="line">    &#123; <span class="attr">src</span>: <span class="string">&#x27;~plugins/baidu.js&#x27;</span>, <span class="attr">mode</span>: <span class="string">&#x27;client&#x27;</span> &#125;,</span><br><span class="line">  ],</span><br></pre></td></tr></table></figure>

<h2 id="兼容-ie9-ie10"><a href="#兼容-ie9-ie10" class="headerlink" title="兼容 ie9 ie10"></a>兼容 ie9 ie10</h2><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0NoYW5XYWhGdW5nL251eHQtanVlamluLXByb2plY3Q=">参考 demo</span><br><span class="exturl" data-url="aHR0cHM6Ly9qdWVqaW4uaW0vcG9zdC81ZWJmNWRjZjUxODgyNTZkNDI2NjI4NWQ=">掘金教程</span></p>
<p><code>window.__NUXT__</code> 如何去掉</p>
<p>vue 实例中 通过 <code>this.$nuxt.context</code> 访问 context</p>
<p>nuxt generate 动态路由配置</p>
<p>nuxt 配置自定义 webpack loader 处理图片 css</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://wqdy.top/1754.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="c">
      <meta itemprop="description" content="分享各类资源、经验与技巧">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我全都要">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/1754.html" class="post-title-link" itemprop="url">rrweb-io - 利用现代浏览器所提供的强大 API 录制并回放任意 Web 界面中的用户操作</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <date title="创建时间：2020-06-18" itemprop="dateCreated datePublished" datetime="2020-06-18T13:41:23+00:00">2020-06-18</date>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/c/frontend/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3Jyd2ViLWlvL3Jyd2Vi">https://github.com/rrweb-io/rrweb</span></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://wqdy.top/1730.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="c">
      <meta itemprop="description" content="分享各类资源、经验与技巧">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我全都要">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/1730.html" class="post-title-link" itemprop="url">js 图像处理库</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <date title="创建时间：2020-06-17" itemprop="dateCreated datePublished" datetime="2020-06-17T15:54:23+00:00">2020-06-17</date>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/c/frontend/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="merge-images-合并图像"><a href="#merge-images-合并图像" class="headerlink" title="merge-images 合并图像"></a>merge-images 合并图像</h3><p>github 地址：<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2x1a2VjaGlsZHMvbWVyZ2UtaW1hZ2Vz">https://github.com/lukechilds/merge-images</span></p>
<h3 id="Cropper-js-图片裁剪工具"><a href="#Cropper-js-图片裁剪工具" class="headerlink" title="Cropper.js 图片裁剪工具"></a>Cropper.js 图片裁剪工具</h3><p>github 地址：<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2Zlbmd5dWFuY2hlbi9jcm9wcGVyanM=">https://github.com/fengyuanchen/cropperjs</span><br>示例地址：<span class="exturl" data-url="aHR0cHM6Ly9mZW5neXVhbmNoZW4uZ2l0aHViLmlvL2Nyb3BwZXJqcy8=">https://fengyuanchen.github.io/cropperjs/</span></p>
<p><img data-src="https://cdn.jsdelivr.net/gh/cuilongjin/static@img/img/20210102205245.png"></p>
<h3 id="grade-js-根据图片的两种主要颜色生成背景渐变"><a href="#grade-js-根据图片的两种主要颜色生成背景渐变" class="headerlink" title="grade.js 根据图片的两种主要颜色生成背景渐变"></a>grade.js 根据图片的两种主要颜色生成背景渐变</h3><p>github 地址：<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2Jlbmhvd2RsZTg5L2dyYWRl">https://github.com/benhowdle89/grade</span><br>示例地址：<span class="exturl" data-url="aHR0cHM6Ly9iZW5ob3dkbGU4OS5naXRodWIuaW8vZ3JhZGUv">https://benhowdle89.github.io/grade/</span></p>
<p><img data-src="https://cdn.jsdelivr.net/gh/cuilongjin/static@img/img/20210102205301.png"></p>
<h3 id="Compressor-js-图像压缩"><a href="#Compressor-js-图像压缩" class="headerlink" title="Compressor.js 图像压缩"></a>Compressor.js 图像压缩</h3><p>github 地址：<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2Zlbmd5dWFuY2hlbi9jb21wcmVzc29yanM=">https://github.com/fengyuanchen/compressorjs</span><br>示例地址：<span class="exturl" data-url="aHR0cHM6Ly9mZW5neXVhbmNoZW4uZ2l0aHViLmlvL2NvbXByZXNzb3Jqcy8=">https://fengyuanchen.github.io/compressorjs/</span></p>
<p><img data-src="https://cdn.jsdelivr.net/gh/cuilongjin/static@img/img/20210102205339.png"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://wqdy.top/1737.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="c">
      <meta itemprop="description" content="分享各类资源、经验与技巧">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我全都要">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/1737.html" class="post-title-link" itemprop="url">wordpress 修改文章id</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <date title="创建时间：2020-06-16" itemprop="dateCreated datePublished" datetime="2020-06-16T16:43:32+00:00">2020-06-16</date>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/c/wordpress/" itemprop="url" rel="index"><span itemprop="name">wordpress</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">update</span> wp_posts <span class="keyword">set</span> id <span class="operator">=</span> <span class="number">430</span> <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">404</span>;</span><br><span class="line"><span class="keyword">update</span> wp_term_relationships <span class="keyword">set</span> object_id <span class="operator">=</span> <span class="number">430</span> <span class="keyword">where</span> object_id <span class="operator">=</span> <span class="number">404</span>;</span><br><span class="line"><span class="keyword">update</span> wp_postmeta <span class="keyword">set</span> post_id <span class="operator">=</span> <span class="number">430</span> <span class="keyword">where</span> post_id <span class="operator">=</span> <span class="number">404</span>;</span><br><span class="line"><span class="keyword">update</span> wp_comments <span class="keyword">set</span> comment_post_ID <span class="operator">=</span> <span class="number">430</span> <span class="keyword">where</span> comment_post_ID <span class="operator">=</span> <span class="number">404</span>;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://wqdy.top/1553.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="c">
      <meta itemprop="description" content="分享各类资源、经验与技巧">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我全都要">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/1553.html" class="post-title-link" itemprop="url">获取页面向左、向上卷动的距离</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <date title="创建时间：2020-05-28" itemprop="dateCreated datePublished" datetime="2020-05-28T14:34:57+00:00">2020-05-28</date>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/c/frontend/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>如果页面指定了 DTD，即指定了 DOCTYPE 时，使用 document.documentElement.scrollTop&#x2F;Left 可以获取到正确的结果</p>
<p>页面没有 DTD，即没指定 DOCTYPE 时，使用 document.body.scrollTop&#x2F;Left 可以获取到正确的结果</p>
<p>获取页面向左、向上卷动的距离的兼容性方式</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getScroll</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">left</span>: <span class="variable language_">window</span>.<span class="property">pageXOffset</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollLeft</span> || <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollLeft</span> || <span class="number">0</span>,</span><br><span class="line">    <span class="attr">top</span>: <span class="variable language_">window</span>.<span class="property">pageYOffset</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span> || <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span> || <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>document.body 与 document.documentElement 区别</p>
<p>document.body 返回 dom 中的 body 节点即 <code>&lt;body&gt;</code><br>document.documentElement 返回 dom 中的 root 节点即 <code>&lt;html&gt;</code></p>
<p>设置页面卷曲距离</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// X: 向左卷曲距离</span></span><br><span class="line"><span class="comment">// Y: 向上卷曲距离</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">scrollTo</span>(X, Y)</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://wqdy.top/1503.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="c">
      <meta itemprop="description" content="分享各类资源、经验与技巧">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我全都要">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/1503.html" class="post-title-link" itemprop="url">开启 windows 下 Ubuntu 子系统的 SSH 服务</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <date title="创建时间：2020-05-25" itemprop="dateCreated datePublished" datetime="2020-05-25T00:00:00+00:00">2020-05-25</date>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/c/%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">教程</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 卸载openssh-client</span></span><br><span class="line">sudo apt-get remove openssh-client <span class="comment"># 卸载openssh-client并重新安装</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装ssh服务</span></span><br><span class="line">sudo apt-get install ssh</span><br><span class="line"><span class="comment"># 理论上包含了 openssh-server 和客户端 openssh-client，如果安装出现异常，请独立安装这两个</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改配置</span></span><br><span class="line">vi /etc/ssh/sshd_config</span><br><span class="line"></span><br><span class="line">Port = 22 <span class="comment"># 默认是22端口，如果和windows端口冲突或你想换成其他的否则不用动</span></span><br><span class="line"><span class="comment">#ListenAddress 0.0.0.0 # 如果需要指定监听的IP则去除最左侧的井号，并配置对应IP，默认即监听PC所有IP</span></span><br><span class="line">PermitRootLogin <span class="built_in">yes</span> <span class="comment"># 如果你需要用 root 直接登录系统则此处改为 yes</span></span><br><span class="line">PasswordAuthentication <span class="built_in">yes</span> <span class="comment"># 将 no 改为 yes 表示使用帐号密码方式登录</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置密码</span></span><br><span class="line">passwd root</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动 ssh 服务</span></span><br><span class="line">service ssh start</span><br><span class="line"><span class="comment"># sudo /etc/init.d/ssh start</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看 ssh 状态</span></span><br><span class="line">service ssh status</span><br></pre></td></tr></table></figure>

<blockquote>
<p>局域网内的其他终端无法连接: 不要忘了，还要配置防火墙开启端口才能被其他 PC 访问</p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://wqdy.top/1472.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="c">
      <meta itemprop="description" content="分享各类资源、经验与技巧">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我全都要">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/1472.html" class="post-title-link" itemprop="url">AutoRclone 配合 Gclone 在 Google Drive 账号之间、谷歌团队盘之间快速拷贝、传输学习资料</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <date title="创建时间：2020-05-23" itemprop="dateCreated datePublished" datetime="2020-05-23T19:00:56+00:00">2020-05-23</date>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/c/%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">教程</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="将实现的功能"><a href="#将实现的功能" class="headerlink" title="将实现的功能"></a>将实现的功能</h3><p>从本地服务器传输到 Google Team Drive<br>从他人分享的链接拷贝到 Google Team Drive<br>从一个 Google Team Drive 传输到另一个 Google Team Drive<br>以上都不受 750G 流量限制</p>
<p>如果没有团队盘，可以参考<a href="https://wqdy.top/1207.html">这里</a>自助申请</p>
<p>本文以 ubuntu 为例，当然直接在本地 Windows 上也是可以的</p>
<h3 id="安装-Python3"><a href="#安装-Python3" class="headerlink" title="安装 Python3"></a>安装 Python3</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-get install git python3 python3-pip -y</span><br></pre></td></tr></table></figure>

<blockquote>
<p>若出现如下问题</p>
<p>Command “python setup.py egg_info” failed with error code 1 in &#x2F;tmp&#x2F;pip-build-bx50pf21&#x2F;progress&#x2F;<br>You are using pip version 8.1.1, however version 20.1.1 is available.<br>You should consider upgrading via the ‘pip install –upgrade pip’ command.</p>
<p>解决：更新 pip3</p>
<p><code>pip3 install --upgrade pip</code></p>
</blockquote>
<h3 id="安装-AutoRclone"><a href="#安装-AutoRclone" class="headerlink" title="安装 AutoRclone"></a>安装 AutoRclone</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/xyou365/AutoRclone &amp;&amp; <span class="built_in">cd</span> AutoRclone &amp;&amp; pip3 install -r requirements.txt</span><br></pre></td></tr></table></figure>

<h3 id="生成-Service-Accounts"><a href="#生成-Service-Accounts" class="headerlink" title="生成 Service Accounts"></a>生成 Service Accounts</h3><p>打开链接：<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vZHJpdmUvYXBpL3YzL3F1aWNrc3RhcnQvcHl0aG9u">https://developers.google.com/drive/api/v3/quickstart/python</span></p>
<p>登陆 google 账号，点击 <code>Enable the Drive API</code>，在弹出的页面中勾选 yes ，点击 NEXT，</p>
<p>稍等片刻，继续点击 CREATE，出现如下页面表示成功</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/cuilongjin/static@img/img/20210102201708.png"></p>
<p>点击 <code>DOWNLOAD CLIENT CONFIGUTATION</code> 按钮，下载 <code>credentials.json</code> 文件，然后将下载的 <code>credentials.json</code> 放到 AutoRclone 目录下</p>
<p>如果你用的是 Xshell 可以使用 rz 来上传文件</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt install lrzsz -y</span><br><span class="line">rz <span class="comment"># 回车会打开窗口，选择文件上传即可</span></span><br><span class="line">rz 文件 <span class="comment"># 下载文件</span></span><br></pre></td></tr></table></figure>

<p>之后分三种情况</p>
<p>1、之前没有创建过项目</p>
<p>直接运行：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python3 gen_sa_accounts.py --quick-setup 5</span><br></pre></td></tr></table></figure>

<p>以上命令含义：创建 6 个项目（项目0到项目5），开启相关的服务，创建 600 个 service accounts，将 600 个 service accounts 的授权文件下载到 accounts 文件夹下面</p>
<p>2、已有 N 个项目，需要创建新的</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python3 gen_sa_accounts.py --quick-setup 2 --new-only</span><br></pre></td></tr></table></figure>

<p>以上命令含义：额外创建 2 个项目（项目 N+1 到项目 N+2），开启相关的服务，创建 200 个 service accounts（2 个项目，每个项目 100 个），将 200 个 service accounts 的授权文件下载到 accounts 文件夹下面</p>
<p>3、使用已有项目，不创建新的</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python3 gen_sa_accounts.py --quick-setup -1</span><br></pre></td></tr></table></figure>

<p>注意以上命令会覆盖掉已有的 service accounts</p>
<p>我这里是第一种情况，运行 <code>python3 gen_sa_accounts.py --quick-setup 1</code>，创建两个项目</p>
<blockquote>
<p>出现如下报错</p>
<p><code>/usr/local/lib/python3.5/dist-packages/requests/__init__.py:91: RequestsDependencyWarning: urllib3 (1.13.1) or chardet (3.0.4) doesn&#39;t match a supported version!</code></p>
<p>解决方法，安装 requests 模块</p>
<p><code>sudo pip3 install requests</code></p>
</blockquote>
<p>出现如下图</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/cuilongjin/static@img/img/20210102201740.png"></p>
<p>打开链接，并登陆你的 Google 账号（提示不安全，不用管，一路允许）</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/cuilongjin/static@img/img/20210102201805.png"></p>
<p><img data-src="https://cdn.jsdelivr.net/gh/cuilongjin/static@img/img/20210102201823.png"></p>
<p>得到授权代码</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/cuilongjin/static@img/img/20210102201844.png"></p>
<p>复制生成的 code 到终端，回车</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/cuilongjin/static@img/img/20210102201900.png"></p>
<p>如上图所示，显示<code>Press Enter to retry</code>, 原因是谷歌账号未开启 Service Usage API，复制提供的链接地址，到浏览器打开，开启 Service Usage API 服务</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/cuilongjin/static@img/img/20210102201955.png"></p>
<p>启用成功后回车，等待完成</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/cuilongjin/static@img/img/20210102202016.png"></p>
<p>接着，你就会发现你的 AutoRclone 文件下面的 accounts 文件夹下会有很多的 json 文件。</p>
<h3 id="将-service-accounts-加入-Google-Groups"><a href="#将-service-accounts-加入-Google-Groups" class="headerlink" title="将 service accounts 加入 Google Groups"></a>将 service accounts 加入 Google Groups</h3><blockquote>
<p>可以直接将 service accounts 加入到Team Drive<br><code>python3 add_to_team_drive.py -d SharedTeamDriveSrcID</code><br>为了便于管理 service accounts，我们创建 Google Group，将 Google Group 邮箱添加到 Team Drive</p>
</blockquote>
<p>我们这一步需要将刚刚生成的数以百计的 Service Accounts 添加到 Google Group 中</p>
<h4 id="创建-Google-Group"><a href="#创建-Google-Group" class="headerlink" title="创建 Google Group"></a>创建 Google Group</h4><p>打开链接：<span class="exturl" data-url="aHR0cHM6Ly9ncm91cHMuZ29vZ2xlLmNvbS8=">https://groups.google.com/</span> ，创建群组：</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/cuilongjin/static@img/img/20210102202037.png"></p>
<h4 id="批量提取-Service-Accounts"><a href="#批量提取-Service-Accounts" class="headerlink" title="批量提取 Service Accounts"></a>批量提取 Service Accounts</h4><blockquote>
<p>如果是 GSuite Admin 账号，可以使用如下方式直接添加进群组</p>
<ol>
<li>将生成的json文件保存到 credentials 文件夹中</li>
<li>在管理控制台中为您的组织创建组。创建群组后，您将拥有一个例如的地址<span class="exturl" data-url="bWFpbHRvOiYjMTE1OyYjOTc7JiM2NDsmI3g3OTsmI3g2ZjsmIzExNzsmIzExNDsmI3g2NDsmIzExMTsmIzEwOTsmIzk3OyYjeDY5OyYjMTEwOyYjNDY7JiM5OTsmI3g2ZjsmI3g2ZDs=">&#115;&#97;&#64;&#x79;&#x6f;&#117;&#114;&#x64;&#111;&#109;&#97;&#x69;&#110;&#46;&#99;&#x6f;&#x6d;</span></li>
<li>运行 <code>python3 add_to_google_group.py -g sa@yourdomain.com</code></li>
</ol>
</blockquote>
<p>对于普通账号，生成 Service Accounts 后，直接运行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> ~/AutoRclone/accounts/*.json | grep <span class="string">&quot;client_email&quot;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>| <span class="built_in">tr</span> -d <span class="string">&#x27;,&quot;&#x27;</span> | sed <span class="string">&#x27;N;N;N;N;N;N;N;N;N;/^$/d;G&#x27;</span> &gt; ~/email.txt</span><br></pre></td></tr></table></figure>

<p>运行后，会自动提取 Service Accounts 邮箱账户，并保存到 ~&#x2F;email.txt 文件中，同时还很贴心地每 10 个邮箱账户就隔开一行，方便复制。</p>
<h4 id="添加到-Google-Group"><a href="#添加到-Google-Group" class="headerlink" title="添加到 Google Group"></a>添加到 Google Group</h4><p>将 email.txt 文件下载到本地</p>
<p>回到 Group 页面，右上角 管理成员：</p>
<p>左侧 直接添加成员，将 Service Accounts 邮箱复制粘贴 10 个，点击 添加：<br>(注意每次只能添加 10 个，每 24 小时只能添加 100 个)</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/cuilongjin/static@img/img/20210102202108.png"></p>
<p>重复以上步骤，将 100 个邮箱添加进去</p>
<h4 id="将-Google-Group-邮箱添加到-Team-Drive"><a href="#将-Google-Group-邮箱添加到-Team-Drive" class="headerlink" title="将 Google Group 邮箱添加到 Team Drive"></a>将 Google Group 邮箱添加到 Team Drive</h4><p>点击关于，找到群组邮箱：</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/cuilongjin/static@img/img/20210102202125.png"></p>
<p><img data-src="https://cdn.jsdelivr.net/gh/cuilongjin/static@img/img/20210102202138.png"></p>
<p>复制下来，添加到 Google Team Drive 成员中</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/cuilongjin/static@img/img/20210102202159.png"></p>
<p>添加完成后，基本就完成所有设置了</p>
<h3 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h3><p>首先将 service accounts 加入到目标 Team Drive</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/AutoRclone</span><br><span class="line"><span class="comment"># 将以下 SharedTeamDriveDstID 替换为你团队盘 ID</span></span><br><span class="line">python3 add_to_team_drive.py -d SharedTeamDriveDstID</span><br></pre></td></tr></table></figure>

<blockquote>
<p>查看团队盘 ID：</p>
<p>打开你的团队盘，查看浏览器上的链接，比如：</p>
<p><span class="exturl" data-url="aHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL2RyaXZlL3UvMi9mb2xkZXJzLzBBSUNZaDRYN0JralZVazlQVkE=">https://drive.google.com/drive/u/2/folders/0AICYh4X7BkjVUk9PVA</span></p>
<p>以上链接中，0AICYh4X7BkjVUk9PVA 就是 ID</p>
</blockquote>
<p>回车后，再次回车：</p>
<p><img data-src="https://cdn.jsdelivr.net/gh/cuilongjin/static@img/img/20210102202221.png"></p>
<h4 id="直接使用"><a href="#直接使用" class="headerlink" title="直接使用"></a>直接使用</h4><p>先安装 rclone</p>
<p>rclone 安装教程可以参考 <a href="https://wqdy.top/1243.html">https://wqdy.top/1243.html</a></p>
<ul>
<li>Linux 环境</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl https://rclone.org/install.sh | sudo bash</span><br></pre></td></tr></table></figure>

<ul>
<li>Windows 环境</li>
</ul>
<p>直接去 <span class="exturl" data-url="aHR0cHM6Ly9yY2xvbmUub3JnLw==">rclone 官网</span>下载 rclone，然后最好将 rclone.exe 所在目录加入系统环境变量</p>
<p>如若将共享链接（<span class="exturl" data-url="aHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL2RyaXZlL3UvMi9mb2xkZXJzLzEwek92SWY4eUJtSXVaZ0JmQzNyY0RLV0hJbE9EWmpYRiVFRiVCQyU4OSVFOSU4NyU4QyVFNyU5QSU4NCVFNiU5NiU4NyVFNCVCQiVCNiVFNCVCRiU5RCVFNSVBRCU5OCVFNSU4OCVCMCVFOCU4NyVBQSVFNSVCNyVCMSVFNyU5QSU4NA==">https://drive.google.com/drive/u/2/folders/10zOvIf8yBmIuZgBfC3rcDKWHIlODZjXF）里的文件保存到自己的</span> Team Drive 中的 myfolder 文件夹中</p>
<p>则命令为</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python3 rclone_sa_magic.py -s 10zOvIf8yBmIuZgBfC3rcDKWHIlODZjXF -d 0AICYh4X7BkjVUk9PVA -dp myfolder -b 1 -e 600</span><br></pre></td></tr></table></figure>

<p>详细的使用命令可以看这里：<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3h5b3UzNjUvQXV0b1JjbG9uZSNzdGVwLTUtc3RhcnQteW91ci10YXNr">https://github.com/xyou365/AutoRclone#step-5-start-your-task</span></p>
<h4 id="配合-Gclone-使用"><a href="#配合-Gclone-使用" class="headerlink" title="配合 Gclone 使用"></a>配合 Gclone 使用</h4><p>gclone 其实就是 rclone 的加强版，为 Google Drive 操作增加自动切换账户和命令行根目录 id 操作支持，其他功能与原版 rclone 相同</p>
<h5 id="安装-gclone"><a href="#安装-gclone" class="headerlink" title="安装 gclone"></a>安装 gclone</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bash &lt;(wget -qO- https://git.io/gclone.sh)</span><br></pre></td></tr></table></figure>

<p>你可以选择将 gclone 重命名为 rclone，方便使用：cp &#x2F;usr&#x2F;bin&#x2F;gclone &#x2F;usr&#x2F;bin&#x2F;rclone</p>
<p>以下内容都是以没有重命名为例，如果你进行了重命名，将以下命令中出现的 gclone 改为 rclone</p>
<h5 id="配置-gclone"><a href="#配置-gclone" class="headerlink" title="配置 gclone"></a>配置 gclone</h5><p>首先需要先记下 &#x2F;root&#x2F;AutoRclone&#x2F;accounts&#x2F; 中的其中一个文件：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ls</span> /root/AutoRclone/accounts</span><br></pre></td></tr></table></figure>

<p>回车后会显示很多 .json 后缀的文件名，复制其中一个文件名，记下文件路径，比如：</p>
<p><code>/root/AutoRclone/accounts/0120894537c1c99c605fe240141af661b44d0c22.json</code></p>
<p>然后进行 gclone 的配置</p>
<p>gclone 在使用上跟 rclone 是一致的，配置过程也几乎一样，可以参考 <span class="exturl" data-url="aHR0cHM6Ly9yY2xvbmUub3JnL2RyaXZlLw==">https://rclone.org/drive/</span></p>
<p>运行以下命令进行配置：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gclone config</span><br></pre></td></tr></table></figure>

<p>配置过程中，需要注意的是，当出现 service_account_file 选项时，填入以上记下的 .json 文件</p>
<p>当出现 service_account_file_path 时，填入 &#x2F;root&#x2F;AutoRclone&#x2F;accounts&#x2F;</p>
<p>记住配置的 name：gdrive</p>
<p>之后就配置完成了</p>
<h5 id="使用-gclone-复制文件"><a href="#使用-gclone-复制文件" class="headerlink" title="使用 gclone 复制文件"></a>使用 gclone 复制文件</h5><p>作者 Github 提供的文档：<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2RvbndhL2djbG9uZS9ibG9iL21hc3Rlci9SRUFETUVfemgubWQ=">https://github.com/donwa/gclone/blob/master/README_zh.md</span></p>
<p>复制共享链接文件到团队盘</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gclone copy gdrive:&#123;目录<span class="built_in">id</span>&#125; gdrive:&#123;目录<span class="built_in">id</span>&#125; --drive-server-side-across-configs -v</span><br></pre></td></tr></table></figure>

<p>以上命令中:</p>
<p>gdrive 是你配置 gclone 时设置的 name</p>
<p>目录 id 是共享链接中链接中的最后部分，比如：<span class="exturl" data-url="aHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL2RyaXZlL3UvMi9mb2xkZXJzLzFnVkFQMjJVZzVmejBwU2U0VEhaVjEwMDc4VWJOYVRvYiVFRiVCQyU4QzFnVkFQMjJVZzVmejBwU2U0VEhaVjEwMDc4VWJOYVRvYg==">https://drive.google.com/drive/u/2/folders/1gVAP22Ug5fz0pSe4THZV10078UbNaTob，1gVAP22Ug5fz0pSe4THZV10078UbNaTob</span> 就是目录 id</p>
<p>–drive-server-side-across-configs 用于谷歌盘之间传输时使用，不走服务器流量，传输速度也更快</p>
<p>-v 用于查看传输过程的 ERROR，NOTICE 和 INFO 消息</p>
<blockquote>
<p> 日志级别<br>-q - 仅生成 ERROR 消息。<br>-v - 生成 ERROR，NOTICE 和 INFO 消息，推荐此项。<br>-vv - 生成 ERROR，NOTICE，INFO和 DEBUG 消息。<br>–log-level LEVEL - 标志控制日志级别。</p>
<p>输出日志到文件<br>使用 –log-file&#x3D;FILE 将 Error，Info 和 Debug 消息以及标准错误重定向到 FILE，这里的 FILE 是你指定的日志文件路径。</p>
</blockquote>
<p>命令使用示例：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gclone copy gdrive:&#123;18SukoSc0ni0nyU779w82eoo_deLKfbZR&#125; gdrive:&#123;1j4z3UH1thdNB8dOhTUgb0uRHxQaDYL1T&#125; --drive-server-side-across-configs -v</span><br></pre></td></tr></table></figure>

<p>目标位置除了使用 id 外，也可以直接使用目录，比如：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gclone copy gdrive:&#123;18SukoSc0ni0nyU779w82eoo_deLKfbZR&#125; gdrive:movie/电影合集 --drive-server-side-across-configs -v</span><br></pre></td></tr></table></figure>

<p>传输本地文件到团队盘</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gclone copy /root/Downloads/xxx gdrive:movie/电影合集 -v</span><br></pre></td></tr></table></figure>

<h3 id="常见报错"><a href="#常见报错" class="headerlink" title="常见报错"></a>常见报错</h3><ul>
<li>报错 <code>Failed to copy: failed to make directory: googleapi: Error 404: File not found: 1n-Ya6sagIrGskenJIzWcmKE1ATjxeqYx., notFound</code></li>
</ul>
<p>有可能是源日流量 10T 被榨干了</p>
<ul>
<li>报错 <code>googleapi: Error 403: The file limit for this shared drive has been exceeded., teamDriveFileLimitExceeded</code></li>
</ul>
<p>团队盘有限制 40w 文件&#x2F;文件夹，回收站中的文件也计算在 40w 之内，可以新增团队盘，或删除小文件并删除回收站</p>
<p>谷歌云端硬盘 API 不公开清空回收站的方法，但它有一个删除方法可以永久删除文件，而不经过回收站</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://developers.google.com/drive/v2/reference/files/delete</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://wqdy.top/1469.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="c">
      <meta itemprop="description" content="分享各类资源、经验与技巧">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我全都要">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/1469.html" class="post-title-link" itemprop="url">用 tMM 刮削影片信息，让 KODI、Jellyfin、PLEX、使用本地媒体电影墙！</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <date title="创建时间：2020-05-20" itemprop="dateCreated datePublished" datetime="2020-05-20T23:09:12+00:00">2020-05-20</date>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/c/NAS/" itemprop="url" rel="index"><span itemprop="name">NAS</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/c/NAS/software/" itemprop="url" rel="index"><span itemprop="name">软件</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>当使用 pt 或者各种 bt 网站，下载了很多电影以后，使用 NAS 上的 plex 或者 jellyfin 刮削不出来海报怎么办？</p>
<p>而今天就将推荐大家使用这款 tinyMediaManager 软件，该软件功能非常强大，可以刮削电影、电影系列、电视剧等，还可以重建nfo文件和批量重名文件、文件夹。支持Win&#x2F;Mac&#x2F;Linux。通过他自动匹配家里的电影资源库，让自己的，不论 KODI，还是 jellyfin，还是 emby、plex 都能用上完美的电影墙！</p>
<h2 id="windows-下使用"><a href="#windows-下使用" class="headerlink" title="windows 下使用"></a>windows 下使用</h2><h3 id="下载和安装-tinyMediaManager"><a href="#下载和安装-tinyMediaManager" class="headerlink" title="下载和安装 tinyMediaManager"></a>下载和安装 tinyMediaManager</h3><p>下载地址 <span class="exturl" data-url="aHR0cHM6Ly93d3cudGlueW1lZGlhbWFuYWdlci5vcmcvZG93bmxvYWQv">https://www.tinymediamanager.org/download/</span></p>
<p>如果提示需要 java 环境，下载安装即可</p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>打开软件</p>
<p>当提示设置影片档案文件夹时，可以先不添加，直接下一步</p>
<p>当提示元数据刮削的时候，选择 <code>themoviedb.org</code>，不管是电影和电视剧都选他即可</p>
<p>打开设置，添加电影和电视剧目录，其他默认</p>
<p>设置好了以后，点击更新</p>
<p>全选已添加的影片信息，点击右键，搜索并刮削所选电影 - 自动匹配：会自动下载封面和影片信息</p>
<p>其中有可能遇到需要您手动搜索的影片，手动搜索一下中文名字即可</p>
<p>当影片完全搜索不出来的时候，也可以到豆瓣电影里面搜索一下这个影片，记住它的 imdb 链接的后面一串数字，比如：tt7286456</p>
<p>直接搜索这个序列号，也是可以获取影片资料的</p>
<p>电视剧的搜索方式和电影的搜索方式是一模一样的，而且电视剧会将每一集都进行信息整理和分类</p>
<p>全部更新完毕后，可以看到影片的文件夹里观看，下载了 nfo 影片信息，海报封面图，logo 等</p>
<h2 id="linux-下使用"><a href="#linux-下使用" class="headerlink" title="linux 下使用"></a>linux 下使用</h2><p>使用docker安装</p>
<p><span class="exturl" data-url="aHR0cHM6Ly9odWIuZG9ja2VyLmNvbS9yL3JvbWFuY2luL3RpbnltZWRpYW1hbmFnZXI=">https://hub.docker.com/r/romancin/tinymediamanager</span></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker pull romancin/tinymediamanager</span><br><span class="line"></span><br><span class="line">docker run -d --name=tinymediamanager \</span><br><span class="line">-v /share/Container/tinymediamanager/config:/config \</span><br><span class="line">-v /home/gdrive:/media \</span><br><span class="line">-e GROUP_ID=0 -e USER_ID=0 -e TZ=Europe/Madrid \</span><br><span class="line">-p 5800:5800 \</span><br><span class="line">-p 5900:5900 \</span><br><span class="line">romancin/tinymediamanager:latest</span><br></pre></td></tr></table></figure>

<p>浏览以 <code>http://your-host-ip:5800</code> 即可访问 TinyMediaManager GUI</p>
<p>解决中文无法正常显示的问题</p>
<p>添加 ENABLE_CJK_FONT&#x3D;1 环境变量</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker run -d --name=tinymediamanager \</span><br><span class="line">-v /share/Container/tinymediamanager/config:/config \</span><br><span class="line">-v /home/gdrive:/media \</span><br><span class="line">-e GROUP_ID=0 -e USER_ID=0 -e TZ=Europe/Madrid -e ENABLE_CJK_FONT=1 \</span><br><span class="line">-p 5800:5800 \</span><br><span class="line">-p 5900:5900 \</span><br><span class="line">romancin/tinymediamanager:latest</span><br></pre></td></tr></table></figure>

<h3 id="使用-Jellyfin-加载-tinyMediaManager-整理的影片"><a href="#使用-Jellyfin-加载-tinyMediaManager-整理的影片" class="headerlink" title="使用 Jellyfin 加载 tinyMediaManager 整理的影片"></a>使用 Jellyfin 加载 tinyMediaManager 整理的影片</h3><p>只需要设置 Jellyfin 媒体库，取消掉所有的刮削器即可（一定要取消掉，否则依然会无法显示影片信息，甚至连影片都可能不会出现在影视墙上）</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://wqdy.top/1449.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="c">
      <meta itemprop="description" content="分享各类资源、经验与技巧">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我全都要">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/1449.html" class="post-title-link" itemprop="url">Ubuntu 下关于 Transmission daemon 的安装与配置</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <date title="创建时间：2020-05-19" itemprop="dateCreated datePublished" datetime="2020-05-19T20:46:55+00:00">2020-05-19</date>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/c/%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">教程</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>Transmission 是一个强大的 BitTorrent 开源客户端，<span class="exturl" data-url="aHR0cHM6Ly93d3cudHJhbnNtaXNzaW9uYnQuY29tLw==">官方网站</span>上提供了多个版本可以下载，包括：Mac、GTK+、QT、web 版本。</p>
<p>Transmission 支持 DHT、Magnet Link、uTP 以及 PEX 等特性。尤其是支持 Magnet Link 磁力链接下载十分重要，因为目前网上很多资源都是采用这种方式来分享的，而不是传统的.torrent 文件</p>
<p>在 Ubuntu 的发行版中，Transmission 软件包下面包含多个套件，这些套件的名字很容易搞混淆，它们分别是：</p>
<ul>
<li>transmission-gtk: GTK+界面的 Transmission BT 客户端。</li>
<li>transmission-qt: QT 界面的 Transmission BT 客户端。</li>
<li>transmission-cli: 命令行界面的 Transmission BT 客户端，与 QT、GTK+版本功能一样，是命令行下一个完备的 BT 客户端。</li>
<li>transmission-daemon: 是一个 Transmission 的后台守护程序，本身不具备操作指令，只能通过 Web 客户端或者 transmission-remote-cli 来进行控制。这个程序特别适合安装在服务器上或者嵌入式系统中，以及一些没有显示器的设备上。</li>
<li>transmission-remote-cli: 用来控制 transmission-daemon 的命令套件，本身不具备下载 BT 的功能，只能够配合 daemon 使用。</li>
</ul>
<p>这些套件不必都安装上，根据我的需求，只需要安装 transmission-daemon 即可</p>
<h3 id="Transmission-的安装"><a href="#Transmission-的安装" class="headerlink" title="Transmission 的安装"></a>Transmission 的安装</h3><p>打开终端，输入以下命令安装：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install transmission-daemon</span><br></pre></td></tr></table></figure>

<p>安装过程中会顺带把 transmission-cli 也安装上，安装完毕后系统会多出如下一些命令行工具</p>
<ul>
<li>transmission-cli： 独立的命令行客户端。</li>
<li>transmission-create： 用来建立.torrent 种子文件的命令行工具。</li>
<li>transmission-daemon： 后台守护程序。</li>
<li>transmission-edit： 用来修改.torrent 种子文件的 announce URL。</li>
<li>transmission-remote： 控制 daemon 的程序。</li>
<li>transmission-show：查看.torrent 文件的信息。</li>
</ul>
<p>安装好后，Transmission-daemon 有一些默认设置(<span class="exturl" data-url="aHR0cHM6Ly90cmFjLnRyYW5zbWlzc2lvbmJ0LmNvbS93aWtpL1VuaXhTZXJ2ZXIvRGViaWFu">参考链接</span>)。</p>
<p>默认配置目录清单</p>
<p>启动初始化脚本 &#x2F;etc&#x2F;init.d&#x2F;transmission-daemon<br>基本配置文件 &#x2F;etc&#x2F;default&#x2F;transmission-daemon<br>详细配置文件目录 &#x2F;var&#x2F;lib&#x2F;transmsision-daemon&#x2F;info&#x2F;settings.json<br>下载存储目录 &#x2F;var&#x2F;lib&#x2F;transmission-daemon&#x2F;downloads</p>
<p>settings.json： 主要的配置文件，设置 daemon 的各项参数，包括 RPC 的用户名密码配置。它实际上是一个符号链接，指向的原始文件是&#x2F;etc&#x2F;transmission-daemon&#x2F;settings.json。里面的参数解释可以参考官网的配置说明。<br>torrents&#x2F;： 用户存放.torrent 种子文件的目录,凡是添加到下载任务的种子，都存放在这里。.torrent 的命名包含,种子文件本身的名字和种子的 SHA1 HASH 值。<br>resume&#x2F;： 存放了.resume 文件，.resume 文件包含了一个种子的信息，例如该文件哪些部分被下载了，下载的数据存储的位置等等。<br>blocklists&#x2F;： 存储被屏蔽的 peer 的地址。<br>dht.dat： 存储 DHT 节点信息。</p>
<p>如果使用另外一个用户来运行 transmission-daemon 的话，会在该用户的目录下，创建一个.config&#x2F;transmission-daemon 的文件夹，配置目录 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RyYW5zbWlzc2lvbi90cmFuc21pc3Npb24vd2lraS9Db25maWd1cmF0aW9uLUZpbGVz">https://github.com/transmission/transmission/wiki/Configuration-Files</span></p>
<h3 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 启动</span></span><br><span class="line">sudo service transmission-daemon start</span><br><span class="line"></span><br><span class="line"><span class="comment"># 停止</span></span><br><span class="line">sudo service transmission-daemon stop</span><br></pre></td></tr></table></figure>

<h3 id="Transmission-的配置"><a href="#Transmission-的配置" class="headerlink" title="Transmission 的配置"></a>Transmission 的配置</h3><p>配置主要是通过修改&#x2F;var&#x2F;lib&#x2F;transmission-daemon&#x2F;info&#x2F;settings.json 文件中的参数来实现的。<br>注意：在编辑 Transmission 的配置文件的时候，需要先关闭 daemon 进程，否则编辑的参数将会被恢复到原来的状态。</p>
<h4 id="配置-RPC"><a href="#配置-RPC" class="headerlink" title="配置 RPC"></a>配置 RPC</h4><p>最关键的就是要配置 RPC，因为无论是 Web 界面还是 CLI 都是通过 RPC 协议和 daemon 来进行交互的。</p>
<p>打开文件&#x2F;var&#x2F;lib&#x2F;transmission-daemon&#x2F;info&#x2F;settings.json，修改配置参数如下：</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;rpc-authentication-required&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;rpc-bind-address&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;rpc-enabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;rpc-host-whitelist&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span> <span class="comment">// rpc 主机白名单</span></span><br><span class="line">  <span class="attr">&quot;rpc-host-whitelist-enabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span> <span class="comment">//rpc 主机白名单是否开启，若需要任意主机都能访问，建议false</span></span><br><span class="line">  <span class="attr">&quot;rpc-password&quot;</span><span class="punctuation">:</span> <span class="string">&quot;123456&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;rpc-port&quot;</span><span class="punctuation">:</span> <span class="number">9091</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;rpc-url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/transmission/&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;rpc-username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;transmission&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;rpc-whitelist&quot;</span><span class="punctuation">:</span> <span class="string">&quot;*&quot;</span><span class="punctuation">,</span> <span class="comment">// rpc 主机白名单</span></span><br><span class="line">  <span class="attr">&quot;rpc-whitelist-enabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span> <span class="comment">//rpc 主机白名单是否开启，若需要任意主机都能访问，建议false</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>我将用户名设置为了 transmission，密码设置为了 123456，whitelist 设置成了”*”，表示任何 IP 都可以通过 RPC 协议访问这个 daemon。需要注意的是 password 设置成了明文。当启动 daemon 之后，daemon 会自动检测密码设置。如果发现密码配置被修改了，daemon 会自动计算修改后的密码的 HASH 值，并用这个 HASH 值替换掉配置文件中的明文密码，这样会更安全。</p>
<p>输入<code>service transmission-daemon start</code>启动程序后，打开 settings.json，会看到 rpc-password 一项被改为了 HASH 值。</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;rpc-password&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&#123;5f4bd5498bddd9aa2ad8f4d475dcebe23e9d8c8bsorspnUE&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>settings.json 里面还有很多参数可以配置，包括上传&#x2F;下载速度的限制、DHT 的配置、端口设置等等，详细的参数解释可以参考<span class="exturl" data-url="aHR0cHM6Ly90cmFjLnRyYW5zbWlzc2lvbmJ0LmNvbS93aWtpL0VkaXRDb25maWdGaWxlcw==">官网的配置说明</span></p>
<h3 id="使用-Web-界面控制-Transmission-daemon"><a href="#使用-Web-界面控制-Transmission-daemon" class="headerlink" title="使用 Web 界面控制 Transmission daemon"></a>使用 Web 界面控制 Transmission daemon</h3><p>经过上述配置后，我们就可以通过 Web 界面来访问和控制 Transmission daemon 了。在浏览器里面输入以下地址</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://127.0.0.1:9091/transmission/web/</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>浏览器提示你输入刚才配置的用户名和密码，就可以成功登陆 Web 管理界面。界面和桌面版的 GUI 程序有点像，操作起来很方便。</p>
<h3 id="其他问题"><a href="#其他问题" class="headerlink" title="其他问题"></a>其他问题</h3><p>在本机使用 <code>http://&lt;your.server.ip.addr&gt;:9091/transmission/web/</code> 访问出现 403:Forbidden 解决<br>修改配置</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;rpc-whitelist&quot;</span><span class="punctuation">:</span> <span class="string">&quot;127.0.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;rpc-whitelist-enabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>将 <code>rpc-whitelist</code>设置为 <code>&quot;*&quot;</code>或将 <code>rpc-whitelist-enabled</code> 设置为 <code>false</code></p>
<p>在局域网其他机器上使用 <code>http://&lt;your.server.ip.addr&gt;:9091/transmission/web/</code> 访问时无法访问解决<br>修改配置</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;rpc-host-whitelist&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span> <span class="comment">// rpc 主机白名单</span></span><br><span class="line">  <span class="attr">&quot;rpc-host-whitelist-enabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span> <span class="comment">//rpc 主机白名单是否开启，若需要任意主机都能访问，建议false</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>将 <code>rpc-host-whitelist</code>设置为 <code>&quot;*&quot;</code>或将 <code>rpc-host-whitelist-enabled</code> 设置为 <code>false</code></p>
<p>原始界面，没有汉化，也比较简单，可以使用 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3JvbmdnYW5nL3RyYW5zbWlzc2lvbi13ZWItY29udHJvbA==">transmission-web-control</span> 加强 Transmission Web 的操作能力</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget -N  https://github.com/ronggang/transmission-web-control/raw/master/release/install-tr-control-cn.sh</span><br><span class="line">bash install-tr-control-cn.sh</span><br></pre></td></tr></table></figure>

<p>安装完成之后刷新浏览器即可看到新的 ui，如果没有看到可能是浏览器缓存，ctrl + f5 强制刷新一下，如果还是没有看到，<br>可以尝试使用 root 用户运行</p>
<p>或尝试使用</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bash install-tr-control-cn.sh /usr/share/transmission</span><br></pre></td></tr></table></figure>

<p>&#x2F;usr&#x2F;share&#x2F;transmission 为 Transmission Web 所在目录</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2015 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">c</span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>本站为个人博客，站内所有软件资源均收集自互联网，本站仅做免费分享，不出售。本站内所有软件资源仅限个人用于学习和研究目的，不得将上述内容用于商业或者非法用途，否则，一切后果请用户自负。本站内所有软件必须在下载后的24个小时之内，从您的电脑中彻底删除。本站对任何资源不提供技术支持，遇到问题请自行研究或购买正版。本站信息来自网络，版权争议与本站无关。访问和下载本站内容，说明您已同意上述条款。


    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.5.0/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>



  <script src="/js/third-party/fancybox.js"></script>


  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"wqdygkd/hexo-blog","issue_term":"pathname","theme":"github-light"}</script>
<script src="/js/third-party/comments/utterances.js"></script>

</body>
</html>
