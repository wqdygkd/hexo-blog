---
title: 总结 —— h5拍照上传
tags:
id: 2042
categories:
  - 前端
date: 2022-02-28
updated: 2022-02-28
---

方案：使用 html media capture 调用手机端的相机，[查看兼容性](https://caniuse.com/html-media-capture), [demo]()


使用ULR.createObjectURL获取图片地址

使用canvas来压缩图片

使用naturalWidth和naturalHeight去获取图片的原始尺寸 https://caniuse.com/?search=naturalWidth

```js
function  getNaturalSize(img){
    var naturalSize ={};
    if(window.naturalWidth && window.naturalHeight){
        naturalSize.width = img.width;
            naturalSize.height = img.height;
    }else{
        var image = new Image();
        image.src = img.src;
        naturalSize.width = image.width;
        naturalSize.height = image.height;
    }
    return naturalSize;
}
```


拍照获取的图片会自动旋转，为什么？怎么解决？
